!function(e,a){if("object"==typeof exports&&"object"==typeof module)module.exports=a(require("jquery"),require("base/js/dialog"),require("base/js/namespace"),require("base/js/utils"));else if("function"==typeof define&&define.amd)define(["jquery","base/js/dialog","base/js/namespace","base/js/utils"],a);else{var t="object"==typeof exports?a(require("jquery"),require("base/js/dialog"),require("base/js/namespace"),require("base/js/utils")):a(e.jquery,e["base/js/dialog"],e["base/js/namespace"],e["base/js/utils"]);for(var n in t)("object"==typeof exports?exports:e)[n]=t[n]}}("undefined"!=typeof self?self:this,function(e,a,t,n){return function(e){function a(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}var t={};return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},a.p="",a(a.s=4)}([function(a,t){a.exports=e},function(e,t){e.exports=a},function(e,a,t){"use strict";function n(e,a,t,n){var s={url:v+e.uri+a,method:e.method,headers:{"Content-Type":"application/json","cache-control":"no-cache"},processData:!1,success:n};0===Object.keys(t).length&&t.constructor===Object||(s.data=JSON.stringify(t)),p.a.ajax(s)}function s(e,a){var t={project:a,packages:e};n(f.a.update_packages,"",t)}function i(e,a){n(f.a.checkupdate,e,{},a)}function l(e,a){var t={project:a,packages:e};n(f.a.delete_packages,"",t)}function o(e,a){var t={project:a,packages:e};n(f.a.install_packages,"",t)}function c(e,a){n(f.a.getinfo,e,{},a)}function r(e,a){n(f.a.search,e,{},a)}var u=t(0),p=t.n(u),d=t(9),f=t.n(d),v=base_url+"api/packagemanager/";a.a={update_packages:s,install_packages:o,delete_packages:l,get_info:c,search:r,check_update:i}},function(e,a,t){"use strict";function n(e,a,t,n){var s={Cancel:{}};s[t]={class:"btn-danger btn-primary",click:n};var i={title:e,body:a,buttons:s};r.a.modal(i)}function s(e,a){var t={Cancel:{}},n={title:e,body:a,buttons:t};r.a.modal(n)}function i(e){for(var a=[],t=0;t<e.length;t++){var n=e[t],s=p()(n).children(".two").find("i");if(p()(s).attr("class").split(" ").includes("fa-check")){var i=p()(n).find(".two .value-name").text(),l=p()(n).find(".three .value-version").text(),o=i+"="+l;a.push(o)}}return a}function l(){return i(p()(".to-install-values .one"))}function o(){return i(p()(".installed-values .one"))}var c=t(1),r=t.n(c),u=t(0),p=t.n(u);a.a={confirm:n,get_selected_packages:o,get_to_install:l,display_msg:s}},function(e,a,t){"use strict";function n(e){v.a.package_view(e),v.a.search_view(),g.a.update_packages(e),g.a.delete_packages(e),g.a.install_packages(e)}function s(){o.a.notebook_list&&r()("head").append(r()("<link>").attr("rel","stylesheet").attr("type","text/css").attr("href",m+"templates/sidebar.css"))}function i(e){f.a.ajax(m+"templates/sidebar.html",{dataType:"html",success:function(a){modal=p.a.modal({draggable:!1,title:"Configure Project",body:r.a.parseHTML(a)}).attr("id","package-manager-modal").addClass("right full-body"),modal.find(".modal-header").unbind("mousedown"),modal.on("shown.bs.modal",function(a){n(e)})}})}Object.defineProperty(a,"__esModule",{value:!0}),t.d(a,"load_ipython_extension",function(){return s}),t.d(a,"show_button",function(){return i});var l=t(5),o=t.n(l),c=t(0),r=t.n(c),u=t(1),p=t.n(u),d=t(6),f=t.n(d),v=t(7),g=t(10),h=(o.a.notebook_list||o.a.notebook).base_url,m=h+"nbextensions/packagemanagerextension/"},function(e,a){e.exports=t},function(e,a){e.exports=n},function(e,a,t){"use strict";function n(e){c.a.get_info(e,function(e){var a=e.packages,t=o.a.installed(a);l()("#installed-packages").html(t),t=o.a.to_install(a,[]),l()("#to-install").html(t),""===t&&l()("#to-install-main").css("display","none");var n=[];o.a.select_installed(n);var s=[];o.a.select_to_install(s)})}function s(){function e(e){l()("#package-name").val(""),l()("#package-name").blur();var a=e.split(" - "),t={name:a[0],version:a[1],staus:""},n=[];n.push(t);var s=o.a.to_install(n);l()("#to-install").append(s);var i=r.a.get_to_install();o.a.select_to_install(i),l()("#to-install-main").css("display","initial")}l()("#package-name").unbind(),l()("#package-name").keyup(setTimeout(function(){var e=this.value;e.length<=1||(l()("#searchicon").toggleClass("fa-search fa-dot-circle-o").addClass("Blink"),c.a.search(e,function(e){var a=e.packages,t="";l()("#searchlist").html(t);for(var n=0;n<a.length;n++){var s=a[n],i=s.name,o=s.version,c=i+" - "+o;t+="<option value='"+c+"'>",t+=c,t+="</option>"}l()("#searchicon").toggleClass("fa-search fa-dot-circle-o").removeClass("Blink"),l()("#searchlist").html(t),l()('input[list="searchlist"]').each(function(){var e=l()(this),a=l()("#searchlist");e[0].value=e[0].value.split("=")[0],e.autocomplete({source:a.children().map(function(){return l()(this).text()}).get()})})}))},1e3)),l()("#package-name").on("input",function(){var a=l()(this).val();l()("#searchlist").find("option").each(function(){l()(this).val()==a&&e(a)})})}var i=t(0),l=t.n(i),o=t(8),c=t(2),r=t(3);a.a={package_view:n,search_view:s}},function(e,a,t){"use strict";function n(e){for(var a="",t=0;t<e.length;t++){var n=e[t];"installed"!=n.status&&(a+="<div class='to-install-values'>",a+="<div class='row one'>",a+="<div class='col-sm-9 two'>",a+="<i class='fa fa-check'></i> &nbsp;",a+='<span class="value-name">'+n.name+"</span>",a+="</div>",a+="<div class='col-sm-3 three'>",a+='<span class="value-version">'+n.version+"</span>",a+="</div>",a+="</div>",a+="</div>")}return a}function s(e){for(var a="",t=0;t<e.length;t++){var n=e[t];"installed"===n.status&&(a+="<div class='installed-values'>",a+="<div class='row one'>",a+="<div class='col-sm-9 two'>",a+="<i class='fa fa-cube'></i> &nbsp;",a+='<span class="value-name">'+n.name+"</span>",a+="</div>",a+="<div class='col-sm-3 three'>",a+='<span class="value-version">'+n.version+"</span>",a+="</div>",a+="</div>",a+="</div>")}return a}function i(e,a){var t=e.indexOf(a);t>-1&&e.splice(t,1)}function l(e){u()(".to-install-values").unbind(),u()(".to-install-values").hover(function(){u()(this).find(".one .two i").toggleClass("fa-close")}),u()(".to-install-values").click(function(){var a=u()(this).find(".one .two .value-name").text(),t=u()(this).find(".one .three .value-version").text(),n=a+"="+t;e.includes(n)&&(i(e,n),u()(this).remove()),0===e.length&&u()("#to-install-main").css("display","none")})}function o(e){u()(".installed-values").unbind(),u()(".installed-values").click(function(){var a=u()(this).find(".one .two .value-name").text(),t=u()(this).find(".one .three .value-version").text(),n=a+"="+t;e.includes(n)?(i(e,n),u()(this).find(".one .two i").toggleClass("fa-cube fa-check")):(e.push(n),u()(this).find(".one .two i").toggleClass("fa-cube fa-check")),c(e)})}function c(e){0===e.length?u()("#deletebtn").css("display","none"):u()("#deletebtn").css("display","inline")}var r=t(0),u=t.n(r);a.a={installed:s,to_install:n,select_to_install:l,select_installed:o,delete_btn_disp:c}},function(e,a){e.exports={update_packages:{uri:"packages",method:"PATCH"},checkupdate:{uri:"packages/check_update?project=",method:"GET"},delete_packages:{uri:"packages",method:"DELETE"},install_packages:{uri:"packages",method:"POST"},getinfo:{uri:"project_info?project=",method:"GET"},search:{uri:"packages/search?q=",method:"GET"}}},function(e,a,t){"use strict";function n(e,a,t){for(var n=0;n<e.length;n++){var s=e[n];if(s.name===a)return s.version}return t}function s(e){c()("#updatebtn").unbind(),c()("#updatebtn").click(function(){var a=r.a.get_selected_packages(),t="<p> The following packages are about to be updated: </p> </br>";c()("#updatebtn").toggleClass("fa-wrench fa-spinner").addClass("fa-spin"),u.a.check_update(e,function(s){c()("#updatebtn").toggleClass("fa-wrench fa-spinner").removeClass("fa-spin");var i=s.updates,l=[],o=0;if(a.length>0){t+="<ul>";for(var p=0;p<a.length;p++){var d=a[p];d=d.split("=");var f=d[0],v=d[1],g=n(i,f,v);g!=v&&(l.push(f),t+="<li>",t+=f+"    "+v+" -> "+g,t+="</li>",o+=1)}t+="</ul>"}else{var h=c()(".installed-values");t+="<ul>";for(var p=0;p<h.length;p++){var d=h[p],f=c()(item).find(".value-name")[0].innerText,v=c()(item).find(".value-version")[0].innerText,g=n(i,f,v);g!=v&&(l.push(f),t+="<li>",t+=f+"    "+v+" -> "+g,t+="</li>",o+=1)}t+="</ul>"}0===o?(t="<p> There are no updates available </p>",r.a.dispay_msg("Install Packages",c.a.parseHTML(t))):r.a.confirm("Update Packages",c.a.parseHTML(t),"Confirm",function(){u.a.update_packages(l,e)})})})}function i(e){c()("#deletebtn").unbind(),c()("#deletebtn").click(function(){var a=r.a.get_selected_packages(),t="<p> The following packages are about to be deleted: </p> </br>";t+="<ul>";for(var n=[],s=0;s<a.length;s++){var i=a[s];i=i.split("=")[0],n.push(i),t+="<li>",t+=i,t+="</li>"}t+="</ul>",0===n.length?(t="<p> No packages selected </p>",r.a.dispay_msg("Install Packages",c.a.parseHTML(t))):r.a.confirm("Delete Packages",c.a.parseHTML(t),"Confirm",function(){u.a.delete_packages(n,e)})})}function l(e){c()("#installbtn").unbind(),c()("#installbtn").click(function(){var a=r.a.get_to_install(),t="<p> The following packages are about to be added: </p> </br>";t+="<ul>";for(var n=0;n<a.length;n++){var s=a[n];s=s.split("=")[0],t+="<li>",t+=s,t+="</li>"}t+="</ul>",0===a.length?(t="<p> No packages selected </p>",r.a.dispay_msg("Install Packages",c.a.parseHTML(t))):r.a.confirm("Install Packages",c.a.parseHTML(t),"Confirm",function(){u.a.install_packages(a,e)})})}var o=t(0),c=t.n(o),r=t(3),u=t(2);a.a={update_packages:s,delete_packages:i,install_packages:l}}])});